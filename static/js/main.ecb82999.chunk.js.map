{"version":3,"sources":["components/Header.tsx","components/Currency.tsx","components/Denomination.tsx","components/TillCounter.tsx","App.tsx","index.tsx"],"names":["Header","props","className","title","Currency","id","onChange","event","Array","from","document","querySelectorAll","forEach","input","value","setDenoms","setTotal","setCurrency","target","Denomination","symbol","denomination","toFixed","type","step","min","pattern","regex","defaultValue","onBlur","count","TillCounter","React","useState","denoms","total","currency","handleChange","denom","parseFloat","index","findIndex","x","oldDenoms","slice","handleBlur","length","map","a","reduce","b","getRegexString","getCount","Math","round","outputs","denominations","fillCurrency","toString","push","onClick","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ecb82999.chunk.js","sourcesContent":["import React from 'react';\r\n\r\ntype Props = {\r\n  title: string;\r\n};\r\n\r\nfunction Header(props: Props): JSX.Element {\r\n  return (\r\n    <header className=\"header\">\r\n      <h1>{props.title}</h1>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\ntype Denom = {\r\n  denom: string;\r\n  value: number;\r\n};\r\n\r\ntype Props = {\r\n  currency: string;\r\n  setCurrency: React.Dispatch<React.SetStateAction<string>>;\r\n  setDenoms: React.Dispatch<React.SetStateAction<Denom[]>>;\r\n  setTotal: React.Dispatch<React.SetStateAction<number>>;\r\n};\r\n\r\nfunction Currency(props: Props): JSX.Element {\r\n  // Handles what happens when currency is changed...\r\n  const handleChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    // Reset all input fields to 0.00\r\n    Array.from(document.querySelectorAll('input')).forEach(\r\n      (input) => (input.value = '0.00')\r\n    );\r\n\r\n    // Reset denominations array\r\n    props.setDenoms(() => {\r\n      return [];\r\n    });\r\n\r\n    // Reset total\r\n    props.setTotal(() => {\r\n      return 0;\r\n    });\r\n\r\n    // Return new currency value\r\n    props.setCurrency(() => {\r\n      return event.target.value;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"currency\">\r\n      <label>Choose a currency: </label>\r\n      <select id=\"currency\" onChange={handleChange}>\r\n        <option value=\"AUD\">AUD</option>\r\n        <option value=\"EUR\">EUR</option>\r\n        <option value=\"JPY\">JPY</option>\r\n        <option value=\"NZD\">NZD</option>\r\n        <option value=\"USD\">USD</option>\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Currency;\r\n","import React, { ChangeEventHandler, FocusEventHandler } from 'react';\r\n\r\ntype Props = {\r\n  symbol: string;\r\n  denomination: number;\r\n  regex: string;\r\n  count: number;\r\n  onChange: ChangeEventHandler;\r\n  onBlur: FocusEventHandler;\r\n};\r\n\r\nfunction Denomination(props: Props): JSX.Element {\r\n  return (\r\n    <div className=\"denomination\">\r\n      <label className=\"denom-label\">\r\n        {props.symbol}\r\n        {props.denomination.toFixed(2)}\r\n      </label>\r\n      <input\r\n        id={'denom-' + props.denomination}\r\n        type=\"text\"\r\n        className=\"denom-input\"\r\n        step={props.denomination}\r\n        min=\"0\"\r\n        pattern={props.regex}\r\n        defaultValue=\"0.00\"\r\n        onChange={props.onChange}\r\n        onBlur={props.onBlur}\r\n      ></input>\r\n      <label id={'count-' + props.denomination} className=\"denom-count\">\r\n        {props.count}\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Denomination;\r\n","import React from 'react';\r\nimport Currency from '../components/Currency';\r\nimport Denomination from '../components/Denomination';\r\n\r\n// Declare types\r\ntype Currency = {\r\n  symbol: string;\r\n  value: Array<number>;\r\n};\r\n\r\ntype Denom = {\r\n  denom: string;\r\n  value: number;\r\n};\r\n\r\n// Main function\r\nfunction TillCounter(): JSX.Element {\r\n  // State initialisation\r\n  const [denoms, setDenoms] = React.useState<Denom[]>([]);\r\n  const [total, setTotal] = React.useState(0);\r\n  const [currency, setCurrency] = React.useState('AUD');\r\n\r\n  // Handles what happens when the input field value is altered\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    // Extract input ID and value\r\n    const denom: string = event.target.id;\r\n    const value: number = parseFloat(event.target.value) * 100;\r\n\r\n    // Grab index of denom if it exists in the denoms array\r\n    const index = denoms.findIndex((x) => x.denom === denom);\r\n\r\n    // If index does not exist...\r\n    if (index === -1) {\r\n      // Push new denom and value to end of denoms array\r\n      setDenoms((oldDenoms) => {\r\n        return [...oldDenoms, { denom, value }];\r\n      });\r\n    }\r\n\r\n    // If index exists...\r\n    if (index > -1) {\r\n      // Update values of specific index\r\n      setDenoms((oldDenoms) => {\r\n        return [\r\n          ...oldDenoms.slice(0, index),\r\n          { denom, value },\r\n          ...oldDenoms.slice(index + 1)\r\n        ];\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handles what happens when the input field is left\r\n  const handleBlur = () => {\r\n    // Check to see if there are array items to add together\r\n    if (denoms.length > 0) {\r\n      // Push to usestate\r\n      setTotal(() => {\r\n        return addDenomValues();\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handles what happens when the reset button is clicked\r\n  const handleReset = () => {\r\n    // Change all input fields to 0.00\r\n    Array.from(document.querySelectorAll('input')).forEach(\r\n      (input) => (input.value = '0.00')\r\n    );\r\n\r\n    // Reset denominations array\r\n    setDenoms(() => {\r\n      return [];\r\n    });\r\n\r\n    // Reset total\r\n    setTotal(() => {\r\n      return 0;\r\n    });\r\n  };\r\n\r\n  // Adds the values of the denoms array together and returns the total\r\n  function addDenomValues() {\r\n    return denoms\r\n      .map((a) => a.value)\r\n      .reduce(function (a, b) {\r\n        return a + b;\r\n      });\r\n  }\r\n\r\n  // Based on currency select option, populate till counter denomiations\r\n  function fillCurrency(currency: string): Currency {\r\n    // Initialise return array\r\n    let denominations: Currency = { symbol: '', value: [] };\r\n\r\n    // Fill array based on currency\r\n    switch (currency) {\r\n      case 'AUD':\r\n        denominations = {\r\n          symbol: '$',\r\n          value: [100, 50, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1, 0.05]\r\n        };\r\n        break;\r\n      case 'NZD':\r\n        denominations = {\r\n          symbol: '$',\r\n          value: [100, 50, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1]\r\n        };\r\n        break;\r\n      case 'EUR':\r\n        denominations = {\r\n          symbol: '€',\r\n          value: [\r\n            500,\r\n            200,\r\n            100,\r\n            50,\r\n            20,\r\n            10,\r\n            5,\r\n            2,\r\n            1,\r\n            0.5,\r\n            0.2,\r\n            0.1,\r\n            0.05,\r\n            0.02,\r\n            0.01\r\n          ]\r\n        };\r\n        break;\r\n      case 'JPY':\r\n        denominations = {\r\n          symbol: '¥',\r\n          value: [10000, 5000, 2000, 1000, 500, 100, 50, 10, 5, 1]\r\n        };\r\n        break;\r\n      case 'USD':\r\n        denominations = {\r\n          symbol: '$',\r\n          value: [100, 50, 20, 10, 5, 2, 1, 0.5, 0.25, 0.1, 0.05, 0.01]\r\n        };\r\n        break;\r\n    }\r\n\r\n    return denominations;\r\n  }\r\n\r\n  // Returns a regex string based on the denomination value and is used to populate the inputs pattern attribute for validation.\r\n  function getRegexString(value: number) {\r\n    let regex: string;\r\n\r\n    switch (value) {\r\n      case 10000:\r\n        regex = '([0-9]*0000|0).00';\r\n        break;\r\n      case 5000:\r\n        regex = '([0-9]*[05]000|0).00';\r\n        break;\r\n      case 2000:\r\n        regex = '([0-9]*[02468]000|0).00';\r\n        break;\r\n      case 1000:\r\n        regex = '([0-9]*000|0).00';\r\n        break;\r\n      case 500:\r\n        regex = '([0-9]*[05]00|0).00';\r\n        break;\r\n      case 200:\r\n        regex = '([0-9]*[02468]00|0).00';\r\n        break;\r\n      case 100:\r\n        regex = '([0-9]*00|0).00';\r\n        break;\r\n      case 50:\r\n        regex = '([0-9]*[05]0|0).00';\r\n        break;\r\n      case 20:\r\n        regex = '([0-9]*[02468]0|0).00';\r\n        break;\r\n      case 10:\r\n        regex = '[0-9]*0.00';\r\n        break;\r\n      case 5:\r\n        regex = '[0-9]*[05].00';\r\n        break;\r\n      case 2:\r\n        regex = '[0-9]*[02468].00';\r\n        break;\r\n      case 1:\r\n        regex = '[0-9]+.00';\r\n        break;\r\n      case 0.5:\r\n        regex = '[0-9]+.(0|5)0';\r\n        break;\r\n      case 0.25:\r\n        regex = '[0-9]+.(00|25|50|75)';\r\n        break;\r\n      case 0.2:\r\n        regex = '[0-9]+.[02468]0';\r\n        break;\r\n      case 0.1:\r\n        regex = '[0-9]+.[0-9]0';\r\n        break;\r\n      case 0.05:\r\n        regex = '[0-9]+.[0-9](0|5)';\r\n        break;\r\n      case 0.02:\r\n        regex = '[0-9]+.[0-9][02468]';\r\n        break;\r\n      case 0.01:\r\n        regex = '[0-9]+.[0-9]{2}';\r\n        break;\r\n      default:\r\n        regex = '';\r\n        break;\r\n    }\r\n    return regex;\r\n  }\r\n\r\n  // Returns count of specified denomination\r\n  function getCount(index: number, value: number): number {\r\n    // If index does not exist...\r\n    if (index < 0) {\r\n      return 0;\r\n    }\r\n\r\n    // If denomination value is not cleanly divisible...\r\n    if ((Math.round(denoms[index].value) % (value * 100)) / 100 != 0) {\r\n      return 0;\r\n    }\r\n\r\n    // Finally, return only whole number\r\n    return Math.round(denoms[index].value) / value / 100;\r\n  }\r\n\r\n  // Initialise denominations output array\r\n  const outputs: Array<JSX.Element> = [];\r\n\r\n  // Get denominations based on selected currency\r\n  const denominations = fillCurrency(currency);\r\n\r\n  // Fill outputs array\r\n  denominations.value.forEach((value) => {\r\n    // Get denoms index\r\n    const index = denoms.findIndex(\r\n      (x) => x.denom === `denom-${value.toString()}`\r\n    );\r\n\r\n    // Add Denominations as child components\r\n    outputs.push(\r\n      <Denomination\r\n        key={`denom-${value}`}\r\n        symbol={denominations.symbol}\r\n        denomination={value}\r\n        count={getCount(index, value)}\r\n        regex={getRegexString(value)}\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"tillcounter\">\r\n      <Currency\r\n        currency={currency}\r\n        setCurrency={setCurrency}\r\n        setDenoms={setDenoms}\r\n        setTotal={setTotal}\r\n      />\r\n      {outputs}\r\n      <hr />\r\n      <div className=\"total\">\r\n        <p>\r\n          <b>Total:</b>{' '}\r\n          <span className=\"total-span\">\r\n            {denominations.symbol}\r\n            {(total / 100).toFixed(2)}\r\n          </span>\r\n        </p>\r\n        <button className=\"reset\" onClick={handleReset}>\r\n          Reset\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TillCounter;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Header from './components/Header';\r\nimport TillCounter from './components/TillCounter';\r\n\r\nfunction App(): JSX.Element {\r\n  return (\r\n    <div className=\"App\">\r\n      <Header title=\"Till Counter\" />\r\n      <TillCounter />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}