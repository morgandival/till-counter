{"version":3,"sources":["components/Header.tsx","components/Currency.tsx","components/Denomination.tsx","components/TillCounter.tsx","App.tsx","index.tsx"],"names":["Header","props","className","title","Currency","id","onChange","event","setCurrency","target","value","Denomination","symbol","denomination","toFixed","type","step","min","pattern","regex","defaultValue","onBlur","count","TillCounter","React","useState","denoms","setDenoms","total","setTotal","currency","handleChange","denom","parseFloat","index","findIndex","x","oldDenoms","slice","handleBlur","length","map","a","reduce","b","getRegexString","getCount","Math","round","outputs","denominations","fillCurrency","forEach","toString","push","onClick","Array","from","document","querySelectorAll","input","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f3bb823d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\ntype Props = {\r\n  title: string;\r\n};\r\n\r\nfunction Header(props: Props): JSX.Element {\r\n  return (\r\n    <header className=\"header\">\r\n      <h1>{props.title}</h1>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\ntype Props = {\r\n  currency: string;\r\n  setCurrency: React.Dispatch<React.SetStateAction<string>>;\r\n};\r\n\r\nfunction Currency(props: Props): JSX.Element {\r\n  // Handles what happens when currency is changed...\r\n  const handleChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    props.setCurrency(() => {\r\n      return event.target.value;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"currency\">\r\n      <label>Choose a currency: </label>\r\n      <select id=\"currency\" onChange={handleChange}>\r\n        <option value=\"AUD\">AUD</option>\r\n        <option value=\"EUR\">EUR</option>\r\n        <option value=\"JPY\">JPY</option>\r\n        <option value=\"NZD\">NZD</option>\r\n        <option value=\"USD\">USD</option>\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Currency;\r\n","import React, { ChangeEventHandler, FocusEventHandler } from 'react';\r\n\r\ntype Props = {\r\n  symbol: string;\r\n  denomination: number;\r\n  regex: string;\r\n  count: number;\r\n  onChange: ChangeEventHandler;\r\n  onBlur: FocusEventHandler;\r\n};\r\n\r\nfunction Denomination(props: Props): JSX.Element {\r\n  return (\r\n    <div className=\"denomination\">\r\n      <label className=\"denom-label\">\r\n        {props.symbol}\r\n        {props.denomination.toFixed(2)}\r\n      </label>\r\n      <input\r\n        id={'denom-' + props.denomination}\r\n        type=\"text\"\r\n        className=\"denom-input\"\r\n        step={props.denomination}\r\n        min=\"0\"\r\n        pattern={props.regex}\r\n        defaultValue=\"0.00\"\r\n        onChange={props.onChange}\r\n        onBlur={props.onBlur}\r\n      ></input>\r\n      <label id={'count-' + props.denomination} className=\"denom-count\">\r\n        {props.count}\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Denomination;\r\n","import React from 'react';\r\nimport Currency from '../components/Currency';\r\nimport Denomination from '../components/Denomination';\r\n\r\n// Declare types\r\ntype Currency = {\r\n  symbol: string;\r\n  value: Array<number>;\r\n};\r\n\r\ntype Denom = {\r\n  denom: string;\r\n  value: number;\r\n};\r\n\r\n// Main function\r\nfunction TillCounter(): JSX.Element {\r\n  // State initialisation\r\n  const [denoms, setDenoms] = React.useState<Denom[]>([]);\r\n  const [total, setTotal] = React.useState(0);\r\n  const [currency, setCurrency] = React.useState('AUD');\r\n\r\n  // Handles what happens when the input field value is altered\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    // Extract input ID and value\r\n    const denom: string = event.target.id;\r\n    const value: number = parseFloat(event.target.value) * 100;\r\n\r\n    // Grab index of denom if it exists in the denoms array\r\n    const index = denoms.findIndex((x) => x.denom === denom);\r\n\r\n    // If index does not exist...\r\n    if (index === -1) {\r\n      // Push new denom and value to end of denoms array\r\n      setDenoms((oldDenoms) => {\r\n        return [...oldDenoms, { denom, value }];\r\n      });\r\n    }\r\n\r\n    // If index exists...\r\n    if (index > -1) {\r\n      // Update values of specific index\r\n      setDenoms((oldDenoms) => {\r\n        return [\r\n          ...oldDenoms.slice(0, index),\r\n          { denom, value },\r\n          ...oldDenoms.slice(index + 1)\r\n        ];\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handles what happens when the input field is left\r\n  const handleBlur = () => {\r\n    // Check to see if there are array items to add together\r\n    if (denoms.length > 0) {\r\n      // Push to usestate\r\n      setTotal(() => {\r\n        return addDenomValues();\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handles what happens when the reset button is clicked\r\n  const handleReset = () => {\r\n    // Change all input fields to 0.00\r\n    Array.from(document.querySelectorAll('input')).forEach(\r\n      (input) => (input.value = '0.00')\r\n    );\r\n\r\n    // Reset denominations array\r\n    setDenoms(() => {\r\n      return [];\r\n    });\r\n\r\n    // Reset total\r\n    setTotal(() => {\r\n      return 0;\r\n    });\r\n  };\r\n\r\n  // Adds the values of the denoms array together and returns the total\r\n  function addDenomValues() {\r\n    return denoms\r\n      .map((a) => a.value)\r\n      .reduce(function (a, b) {\r\n        return a + b;\r\n      });\r\n  }\r\n\r\n  // Based on currency select option, populate till counter denomiations\r\n  function fillCurrency(currency: string): Currency {\r\n    // Initialise return array\r\n    let denominations: Currency = { symbol: '', value: [] };\r\n\r\n    // Fill array based on currency\r\n    switch (currency) {\r\n      case 'AUD':\r\n        denominations = {\r\n          symbol: '$',\r\n          value: [100, 50, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1, 0.05]\r\n        };\r\n        break;\r\n      case 'NZD':\r\n        denominations = {\r\n          symbol: '$',\r\n          value: [100, 50, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1]\r\n        };\r\n        break;\r\n      case 'EUR':\r\n        denominations = {\r\n          symbol: 'â‚¬',\r\n          value: [\r\n            500,\r\n            200,\r\n            100,\r\n            50,\r\n            20,\r\n            10,\r\n            5,\r\n            2,\r\n            1,\r\n            0.5,\r\n            0.2,\r\n            0.1,\r\n            0.05,\r\n            0.02,\r\n            0.01\r\n          ]\r\n        };\r\n        break;\r\n      case 'JPY':\r\n        denominations = {\r\n          symbol: 'Â¥',\r\n          value: [10000, 5000, 2000, 1000, 500, 100, 50, 10, 5, 1]\r\n        };\r\n        break;\r\n      case 'USD':\r\n        denominations = {\r\n          symbol: '$',\r\n          value: [100, 50, 20, 10, 5, 2, 1, 0.5, 0.25, 0.1, 0.05, 0.01]\r\n        };\r\n        break;\r\n    }\r\n\r\n    return denominations;\r\n  }\r\n\r\n  // Returns a regex string based on the denomination value and is used to populate the inputs pattern attribute for validation.\r\n  function getRegexString(value: number) {\r\n    let regex: string;\r\n\r\n    switch (value) {\r\n      case 10000:\r\n        regex = '([0-9]*0000|0).00';\r\n        break;\r\n      case 5000:\r\n        regex = '([0-9]*[05]000|0).00';\r\n        break;\r\n      case 2000:\r\n        regex = '([0-9]*[02468]000|0).00';\r\n        break;\r\n      case 1000:\r\n        regex = '([0-9]*000|0).00';\r\n        break;\r\n      case 500:\r\n        regex = '([0-9]*[05]00|0).00';\r\n        break;\r\n      case 200:\r\n        regex = '([0-9]*[02468]00|0).00';\r\n        break;\r\n      case 100:\r\n        regex = '([0-9]*00|0).00';\r\n        break;\r\n      case 50:\r\n        regex = '([0-9]*[05]0|0).00';\r\n        break;\r\n      case 20:\r\n        regex = '([0-9]*[02468]0|0).00';\r\n        break;\r\n      case 10:\r\n        regex = '[0-9]*0.00';\r\n        break;\r\n      case 5:\r\n        regex = '[0-9]*[05].00';\r\n        break;\r\n      case 2:\r\n        regex = '[0-9]*[02468].00';\r\n        break;\r\n      case 1:\r\n        regex = '[0-9]+.00';\r\n        break;\r\n      case 0.5:\r\n        regex = '[0-9]+.(0|5)0';\r\n        break;\r\n      case 0.25:\r\n        regex = '[0-9]+.(00|25|50|75)';\r\n        break;\r\n      case 0.2:\r\n        regex = '[0-9]+.[02468]0';\r\n        break;\r\n      case 0.1:\r\n        regex = '[0-9]+.[0-9]0';\r\n        break;\r\n      case 0.05:\r\n        regex = '[0-9]+.[0-9](0|5)';\r\n        break;\r\n      case 0.02:\r\n        regex = '[0-9]+.[0-9][02468]';\r\n        break;\r\n      case 0.01:\r\n        regex = '[0-9]+.[0-9]{2}';\r\n        break;\r\n      default:\r\n        regex = '';\r\n        break;\r\n    }\r\n    return regex;\r\n  }\r\n\r\n  // Returns count of specified denomination\r\n  function getCount(index: number, value: number): number {\r\n    // If index does not exist...\r\n    if (index < 0) {\r\n      return 0;\r\n    }\r\n\r\n    // If denomination value is not cleanly divisible...\r\n    if ((Math.round(denoms[index].value) % (value * 100)) / 100 != 0) {\r\n      return 0;\r\n    }\r\n\r\n    // Finally, return only whole number\r\n    return Math.round(denoms[index].value) / value / 100;\r\n  }\r\n\r\n  // Initialise denominations output array\r\n  const outputs: Array<JSX.Element> = [];\r\n\r\n  // Get denominations based on selected currency\r\n  const denominations = fillCurrency(currency);\r\n\r\n  // Fill outputs array\r\n  denominations.value.forEach((value) => {\r\n    // Get denoms index\r\n    const index = denoms.findIndex(\r\n      (x) => x.denom === `denom-${value.toString()}`\r\n    );\r\n\r\n    // Add Denominations as child components\r\n    outputs.push(\r\n      <Denomination\r\n        key={`denom-${value}`}\r\n        symbol={denominations.symbol}\r\n        denomination={value}\r\n        count={getCount(index, value)}\r\n        regex={getRegexString(value)}\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"tillcounter\">\r\n      <Currency currency={currency} setCurrency={setCurrency} />\r\n      {outputs}\r\n      <hr />\r\n      <div className=\"total\">\r\n        <p>\r\n          <b>Total:</b>{' '}\r\n          <span className=\"total-span\">\r\n            {denominations.symbol}\r\n            {(total / 100).toFixed(2)}\r\n          </span>\r\n        </p>\r\n        <button className=\"reset\" onClick={handleReset}>\r\n          Reset\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TillCounter;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Header from './components/Header';\r\nimport TillCounter from './components/TillCounter';\r\n\r\nfunction App(): JSX.Element {\r\n  return (\r\n    <div className=\"App\">\r\n      <Header title=\"Till Counter\" />\r\n      <TillCounter />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}